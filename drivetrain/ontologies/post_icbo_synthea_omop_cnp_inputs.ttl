# baseURI: https://unnamed/acorn/inputs
# prefix: inputs

@prefix : <https://unnamed/acorn/post_icbo_synthea_omop_cnp_inputs/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ontologies: <http://transformunify.org/ontologies/> .
@prefix turbo: <http://transformunify.org/ontologies/> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

<http://api.stardog.com/visit_occurrence> a owl:Class .
<http://api.stardog.com/person> a owl:Class .
<http://api.stardog.com/procedure_occurrence> a owl:Class .
<http://api.stardog.com/measurement> a owl:Class .

ontologies:syntheaomop_post_icbo a owl:Class .
ontologies:cdm_synthea10 a owl:Class .
ontologies:procedure_occurrence a owl:Class .
# ontologies:procedure_source_value a owl:Class .

ontologies:post_icbo_synthea_omop_cnp_patients
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:DobPartOfColumn ;
  ontologies:hasOutput ontologies:GidAboutPatient ; 
  ontologies:hasOutput ontologies:GidHasRepresentation ;
  ontologies:hasOutput ontologies:GidPartOfColumn ;
  ontologies:hasOutput ontologies:KeyDenotesDob ;
  ontologies:hasOutput ontologies:KeyDenotesGid ;
  ontologies:hasOutput ontologies:KeyDenotesPatKeySymb ;
  ontologies:hasOutput ontologies:KeyDenotesPatient ;
  ontologies:hasOutput ontologies:KeyDenotesRid ;
  ontologies:hasOutput ontologies:KeyPartOfColumn ;
  ontologies:hasOutput ontologies:PatKeySymbPartOfColumn ;
  ontologies:hasOutput ontologies:RidAboutPatient ;
  ontologies:hasOutput ontologies:RidHasRepresentation ;
  ontologies:hasOutput ontologies:RidPartOfColumn ;
  ontologies:hasOutput ontologies:RidTypingRecipe ;
  ontologies:hasOutput ontologies:CridDenotesPatient;
  ontologies:hasOutput ontologies:DobAboutSns ;
  ontologies:hasOutput ontologies:DobHasMeasVal ;
  ontologies:hasOutput ontologies:GidTypingRecipe ;
  ontologies:hasOutput ontologies:HardcodedPatientRegden ;
  ontologies:hasOutput ontologies:HardcodedPatientSourceden ; 
  ontologies:hasOutput ontologies:PatCridsymbHasRepresentation ;
  ontologies:hasOutput ontologies:PatKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:PatKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:PatientBornOnSns ;
  ontologies:hasOutput ontologies:PatientExpansionSpecification ;
  ontologies:hasOutput ontologies:symbolPartOfCridForPatient ;
  ontologies:hasRequiredInput ontologies:GidOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:GidScoGid ;
  ontologies:hasRequiredInput ontologies:PatientCridsymShortcut ;
  ontologies:hasRequiredInput ontologies:PatientKeySymShortcut ;
  ontologies:hasRequiredInput ontologies:PatientRidShortcut ;
  ontologies:hasRequiredInput ontologies:RidOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:PatientDobShortcut ;
  ontologies:hasRequiredInput ontologies:PatientGidShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_Encs ;
.

ontologies:GidScoGid a ontologies:ObjectConnectionToTermRecipe ;
   ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
   turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
   ontologies:subject ontologies:GidClassList ;
   ontologies:predicate rdfs:subClassOf ;
   # ontologies:predicateSuffix ontologies:star ;
   ontologies:object obo:OMRSE_00000133 ;
 .
ontologies:GidOmopConceptIds 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:GidClassList ;
  ontologies:predicate ontologies:TURBO_0010147 ;
  ontologies:object ontologies:gender_concept_id_IntegerLiteralValue ;
.
ontologies:PatientGidShortcut
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:required true ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#gender_concept_id> ;
  ontologies:object ontologies:gender_concept_id_IntegerLiteralValue ;
.

ontologies:PatientRidShortcut
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:required true ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#race_concept_id> ;
  ontologies:object ontologies:race_concept_id_IntegerLiteralValue ;
.
ontologies:RidOmopConceptIds 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:RidClassList ;
  ontologies:predicate ontologies:TURBO_0010147 ;
  ontologies:object ontologies:race_concept_id_IntegerLiteralValue ;
.
ontologies:PatientCridsymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#person_source_value> ;
  ontologies:object ontologies:person_source_value_StringLiteralValue ;
.
ontologies:PatientKeySymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.
ontologies:PatientDobShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#birth_datetime> ;
  ontologies:object ontologies:birth_datetime_DateLiteralValue ;
.

# ontologies:GidClassList ontologies:usesCustomVariableManipulationRule ontologies:GidClassFromValueRule .
# ontologies:GidClassFromValueRule
  # a ontologies:TurboGraphVariableManipulationLogic ;
  # ontologies:usesSparql """
  # BIND(IF (${dependent} = 8532, obo:OMRSE_00000138, ?unbound) AS ?femGidClass) 
  # BIND(IF (${dependent} = 8507, obo:OMRSE_00000141, ?unbound) AS ?maleGidClass) 
  # bind(coalesce(?femGidClass, ?maleGidClass, obo:OMRSE_00000133) as ${replacement})
# """  ;
# .

### Encs
# _ is wildcard suffix for graph names
ontologies:post_icbo_synthea_omop_cnp_Encs
  a ontologies:TURBO_0010354 ;
  # ontologies:hasOutput ontologies:EncTypeAxiomDbXrefHasRepresentation ;
  # ontologies:hasOutput ontologies:EncTypeAxiomDbXrefPartOfColumn ;
  # ontologies:hasOutput ontologies:EncTypeAxiomHasDbXref  ;
  # ontologies:hasOutput ontologies:EncTypeAxiomProp ;
  # ontologies:hasOutput ontologies:EncTypeAxiomSource ;
  # ontologies:hasOutput ontologies:EncTypeAxiomTarget ;
  ## ontologies:hasOutput ontologies:EncTypeAxiomTypingRecipe ;
  ontologies:hasOutput ontologies:EndDatePartOfColumn ;
  ontologies:hasOutput ontologies:EncKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:EncKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:KeyDenotesEndDate ;
  ontologies:hasOutput ontologies:KeyDenotesEnc ;
  ontologies:hasOutput ontologies:KeyDenotesStartDate ;
  ontologies:hasOutput ontologies:KeyDenotesVisitCridSym ;
  ontologies:hasOutput ontologies:StartDatePartOfColumn ;
  ontologies:hasOutput ontologies:VisitCridSymPartOfColumn ;
  ontologies:hasOutput ontologies:VisitIdPartOfColumn ;
  ontologies:hasOutput ontologies:CridDenotesEnc ;
  ontologies:hasOutput ontologies:encCridsymbHasRepresentation ;
  ontologies:hasOutput ontologies:EncTypingRecipe ;
  ontologies:hasOutput ontologies:endingTmdAboutProcbound ;
  ontologies:hasOutput ontologies:endingTmdHasMeasVal ;
  ontologies:hasOutput ontologies:HardcodedEncSourceden ;
  ontologies:hasOutput ontologies:HardcodedRegden ;
  ontologies:hasOutput ontologies:EncExpansionSpecification ;
  ontologies:hasOutput ontologies:ProcboundEndsEnc ;
  ontologies:hasOutput ontologies:ProcboundStartsEnc ;
  ontologies:hasOutput ontologies:startingTmdAboutProcbound ;
  ontologies:hasOutput ontologies:startingTmdHasMeasVal ;
  ontologies:hasOutput ontologies:symbolPartOfCridForEnc ;
  ontologies:hasRequiredInput ontologies:EncOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:EncCridsymShortcut ;
  ontologies:hasRequiredInput ontologies:EncEnddateShortcut ;
  ontologies:hasRequiredInput ontologies:EncKeysymShortcut ;
  ontologies:hasRequiredInput ontologies:EncPersonIdShortcut ;
  ontologies:hasRequiredInput ontologies:EncStartdateShortcut ;
  ontologies:hasRequiredInput ontologies:EncTypeShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_enc_participation ;
.

ontologies:EncTypeShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_concept_id> ;
  ontologies:object ontologies:visit_concept_id_IntegerLiteralValue ;
.

ontologies:EncOmopConceptIds 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:EncClassList ;
  ontologies:predicate ontologies:TURBO_0010147 ;
  ontologies:object ontologies:visit_concept_id_IntegerLiteralValue ;
.

ontologies:EncPersonIdShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#person_id> ;
  # ontologies:object ontologies:visit_person_id_IntegerLiteralValue ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.
ontologies:EncCridsymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_source_value> ;
  ontologies:object ontologies:visit_source_value_StringLiteralValue ;
.
ontologies:EncKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.
ontologies:EncEnddateShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_end_date> ;
  ontologies:object ontologies:visit_end_date_DateLiteralValue ;
.
ontologies:EncStartdateShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_start_date> ;
  ontologies:object ontologies:visit_start_date_DateLiteralValue ;
.

# ontologies:EncClassList 
  # ontologies:usesCustomVariableManipulationRule ontologies:encClassFromValueRule .
  
# ontologies:encClassFromValueRule
  # a ontologies:TurboGraphVariableManipulationLogic ;
  # ontologies:usesSparql """
  # BIND(IF (${dependent} = 9203, obo:OGMS_0000101, ?unbound) AS ?edEncClass) 
  # BIND(IF (${dependent} = 9201, obo:OGMS_0000100, ?unbound) AS  ?inpatientEncClass) 
  # BIND(IF (${dependent} = 9202, obo:OGMS_0000099, ?unbound) AS ?outpatientEncClass) 
  # bind(coalesce(?edEncClass, ?inpatientEncClass, ?outpatientEncClass, obo:OGMS_0000097) as ${replacement})
  # #BIND(IF (bound(?edEncClass),?edEncClass, ?unbound) as ${replacement}) 
  # #BIND(IF (bound(?inpatientEncClass),?inpatientEncClass, ${replacement}) as ${replacement}) 
  # #BIND(IF (bound(?outpatientEncClass),?outpatientEncClass, ${replacement}) as ${replacement}) 
  # #BIND(IF (bound(${replacement}),${replacement},obo:OGMS_0000097) as ${replacement})
# """  ;
# .





### Enc participation

ontologies:post_icbo_synthea_omop_cnp_enc_participation  
  # ontologies:hasOutput ontologies:EncSeeAlsoKey;
  # ontologies:hasOutput ontologies:KeyDenotesDbXref ;
  ontologies:hasOutput ontologies:ParticipationAxiomSource ;
  # ontologies:hasRequiredInput ontologies:EncKeyDenotesEnc ;
  ## ontologies:hasOutput ontologies:ParticipationAxiomTypingRecipe ;
  ## ontologies:hasRequiredInput ontologies:patientExpansionSpecification ;
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:ParticipationAxiomDbXrefHasRepresentation ;
  ontologies:hasOutput ontologies:ParticipationAxiomDbXrefPartOfColumn ;
  ontologies:hasOutput ontologies:ParticipationAxiomHasDbXref ;
  ontologies:hasOutput ontologies:ParticipationAxiomProp ;
  ontologies:hasOutput ontologies:ParticipationAxiomTarget ;
  ontologies:hasOutput ontologies:EncRealizesRole ;
  ontologies:hasOutput ontologies:PatientHasRole;
  ontologies:hasRequiredInput ontologies:EncOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:EncPatientID ;
  ontologies:hasRequiredInput ontologies:EncPersonIdShortcut ;
  ontologies:hasRequiredInput ontologies:EncTypeShortcut ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:hasRequiredInput ontologies:EncTypingRecipe ;
  ontologies:hasRequiredInput ontologies:HardcodedPatientSourceden ;
  ontologies:hasRequiredInput ontologies:EncExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:PatKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:PatKeySymbPartOfKey ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_precedence ;
.

# ontologies:EncKeyDenotesEnc
  # a ontologies:ObjectConnectionToInstanceRecipe ;
  # turbo:referencedInGraph ontologies:omopExpanded ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  # ## ontologies:required true ;
  # ontologies:subject ontologies:TURBO_0010433 ;
  # ontologies:predicate obo:IAO_0000219 ;
  # ontologies:object ontologies:EncToBeTyped ;
  # ontologies:subjectUsesContext ontologies:EncKeyContext ;
# .

ontologies:EncPatientID 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph ontologies:omopShortcuts ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.


ontologies:post_icbo_synthea_omop_cnp_precedence
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:PrevencPrecedesEnc ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomDbXrefHasRepresentation ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomDbXrefPartOfColumn ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomHasDbXref ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomProp ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomSource ;
  # ontologies:hasOutput ontologies:PrecedenceAxiomTarget ;
  ## ontologies:hasOutput ontologies:PrecedenceAxiomTypingRecipe ;
  ontologies:hasRequiredInput  ontologies:EncTypeShortcut ;
  ontologies:hasRequiredInput ontologies:DenotedADenotedsClass ; 
  ontologies:hasRequiredInput ontologies:DenotedScoEnc ; 
  ontologies:hasRequiredInput ontologies:EncOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:EncPreviousEncValSc ;
  ontologies:hasRequiredInput ontologies:KeyContainerOfPreviousVisitId ;
  ontologies:hasRequiredInput ontologies:KeyDenotesDenoted ;
  ontologies:hasRequiredInput ontologies:RepresenteeOfPreviousVisitId ;
  ontologies:hasRequiredInput ontologies:EncTypingRecipe ;
  ontologies:hasRequiredInput ontologies:EncExpansionSpecification ; 
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedures ;
.

ontologies:EncPreviousEncValSc
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph ontologies:omopShortcuts ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#preceding_visit_occurrence_id> ;
  ontologies:object ontologies:preceding_visit_occurrence_id_IntegerLiteralValue ;
.

ontologies:RepresenteeOfPreviousVisitId
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph ontologies:omopExpanded ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject obo:IAO_0000028 ;
  ontologies:predicate ontologies:TURBO_0010094 ;
  ontologies:object ontologies:preceding_visit_occurrence_id_IntegerLiteralValue ;
.

ontologies:KeyContainerOfPreviousVisitId
  a ontologies:ObjectConnectionToInstanceRecipe ;
  turbo:referencedInGraph ontologies:omopExpanded ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject obo:IAO_0000028 ;
  ontologies:predicate obo:BFO_0000050 ;
  ontologies:object ontologies:TURBO_0010433 ;
.

ontologies:KeyDenotesDenoted
  a ontologies:ObjectConnectionToInstanceRecipe ;
  turbo:referencedInGraph ontologies:omopExpanded ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:TURBO_0010433 ;
  ontologies:predicate obo:IAO_0000219 ;
  ontologies:object ontologies:denoted ;
.

ontologies:DenotedADenotedsClass 
  a ontologies:ObjectConnectionToInstanceRecipe ;
  turbo:referencedInGraph ontologies:omopExpanded ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:denoted ;
  ontologies:predicate rdf:type ;
  ontologies:object ontologies:denotedsClass ;
.

ontologies:DenotedScoEnc
  a ontologies:ObjectConnectionToTermRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:denotedsClass ;
  ontologies:predicate rdfs:subClassOf ;
  ontologies:object obo:OGMS_0000097 ;
.


### Procedures
ontologies:post_icbo_synthea_omop_cnp_procedures
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:ProcedureTypingRecipe ;
  ontologies:hasOutput ontologies:ProcExpansionSpecification ;
  ontologies:hasOutput ontologies:provenanceAboutProcedure ;
  ontologies:hasOutput ontologies:provMentionsSnomed ;
  ontologies:hasOutput ontologies:KeyDenotesProc ;
  ontologies:hasOutput ontologies:ProcKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:ProcKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:HardcodedProcSourceden ;
  ontologies:hasRequiredInput ontologies:ProcedureKeysymShortcut ;
  ontologies:hasRequiredInput ontologies:ProcedureSourceValueShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_participation ;
.
ontologies:ProcedureClassList ontologies:usesCustomVariableManipulationRule ontologies:ProcClassFromValueRule .
ontologies:ProcClassFromValueRule
  a ontologies:TurboGraphVariableManipulationLogic ;
  ontologies:usesSparql """
  BIND(IF (${dependent} = "76601001", obo:OBI_0000934, ?unbound) AS ?imInjClass) 
  BIND(IF (${dependent} = "5880005", obo:OGMS_0000057, ?unbound) AS ?physExamClass) 
  bind(coalesce(?imInjClass, ?physExamClass, obo:OGMS_0000096) as ${replacement})
"""  ;
.
ontologies:ProcedureKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#procedure_occurrence_id> ;
  ontologies:object ontologies:procedure_occurrence_id_IntegerLiteralValue ;
.
ontologies:ProcedureSourceValueShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#procedure_source_value> ;
  ontologies:object ontologies:procedure_source_value_StringLiteralValue ;
  ontologies:objectRequiredToCreate ontologies:ProcMentionedClassList ;
  ontologies:objectRequiredToCreate ontologies:ProcedureClassList ;
.
ontologies:ProcMentionedClassFromValueRule
  a ontologies:TurboGraphVariableManipulationLogic ;
  ontologies:usesSparql """
  BIND(uri(concat('http://purl.bioontology.org/ontology/SNOMEDCT/', ${dependent} )) as  ${replacement} )
"""  ;
.
ontologies:ProcMentionedClassList 
  ontologies:usesCustomVariableManipulationRule ontologies:ProcMentionedClassFromValueRule .
### Procedure participation
ontologies:post_icbo_synthea_omop_cnp_procedure_participation
  a ontologies:TURBO_0010354 ;
  ontologies:hasRequiredInput ontologies:ProcedurePatientShortcut ;
  ontologies:hasRequiredInput ontologies:ProcExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:ProcedureTypingRecipe ;
  ontologies:hasRequiredInput ontologies:PatientExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:PatientHasRole ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:hasRequiredInput ontologies:PatKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:PatKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:HardcodedPatientSourceden ;
  ontologies:hasOutput ontologies:ProcRealizesPatientRole ;
  ontologies:hasOutput ontologies:PatientHasRole ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_parthood ;
.
ontologies:ProcedurePatientShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/many-1> ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.
### Procedure parthood
ontologies:post_icbo_synthea_omop_cnp_procedure_parthood
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:ProcPartOfEnc ;
  ontologies:hasRequiredInput ontologies:EncKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:EncKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:EncTypingRecipe ;
  ontologies:hasRequiredInput ontologies:HardcodedEncSourceden ;
  ontologies:hasRequiredInput ontologies:EncExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesEnc ;
  # ontologies:hasRequiredInput ontologies:ProcExpansionInput ;
  ontologies:hasRequiredInput ontologies:ProcExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:ProcedureEncShortcut ;
  ontologies:hasRequiredInput ontologies:ProcedureTypingRecipe ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement ;
.
ontologies:ProcedureEncShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.
### measurement
ontologies:post_icbo_synthea_omop_cnp_measurement
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:MeasExpansionSpecification ;
  ontologies:hasOutput ontologies:MeasHasValspec ;
  ontologies:hasOutput ontologies:MeasKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:MeasKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:MeasTmdAboutProcbound  ;
  ontologies:hasOutput ontologies:MeasTmdHasMeasVal ;
  ontologies:hasOutput ontologies:MeasValspecPartOfDataset ;
  ontologies:hasOutput ontologies:ValspecHasSpecVal ;
  ontologies:hasOutput ontologies:HardcodedMeasSourceden ;
  ontologies:hasOutput ontologies:KeyDenotesMeas ;
  ontologies:hasOutput ontologies:ProcboundStartsMeas ;
  ontologies:hasRequiredInput ontologies:MeasDatetimeShortcut ;
  ontologies:hasRequiredInput ontologies:MeasNumValShortcut ;
  ontologies:hasRequiredInput ontologies:MeasKeysymShortcut ;
  # ontologies:hasRequiredInput ontologies:MULScoMUL ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_MUL ;
.
ontologies:post_icbo_synthea_omop_cnp_MUL
  a ontologies:TURBO_0010354 ;
  # ontologies:hasOutput ontologies:MULMoreUnitsOutput ;
  ontologies:hasOutput ontologies:MULTypingRecipe ;
  ontologies:hasOutput ontologies:MULpartOfColumn ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasOutput ontologies:MeasHasMUL ;
  ontologies:hasRequiredInput ontologies:MULClassHasOmopConceptId ;
  ontologies:hasRequiredInput ontologies:MeasMoreUnitsShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement_aboutness ;
.
ontologies:MeasMoreUnitsShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#more_units> ;
  ontologies:object ontologies:measurement_more_units_IntegerLiteralValue ;
.
ontologies:MULClassHasOmopConceptId 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:MULClassList ;
  ontologies:predicate ontologies:TURBO_0010147  ;
  ontologies:object ontologies:measurement_more_units_IntegerLiteralValue ;
.
# ontologies:MULScoMUL
  # a ontologies:DatatypeConnectionRecipe ;
  # turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  # ontologies:subject ontologies:MULClassList ;
  # ontologies:predicate rdfs:subClassOf*  ;
  # ontologies:object obo:IAO_0000003 ;
# .
ontologies:MeasNumValShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#value_as_number> ;
  ontologies:object ontologies:value_as_number_IntegerLiteralValue ;
.
ontologies:MeasKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#measurement_id> ;
  ontologies:object ontologies:measurement_id_IntegerLiteralValue ;
.
ontologies:MeasDatetimeShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#measurement_datetime> ;
  ontologies:object ontologies:measurement_datetime_DateLiteralValue ;
.
### measurement aboutness
ontologies:post_icbo_synthea_omop_cnp_measurement_aboutness
  a ontologies:TURBO_0010354 ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement_parthood ;
  ontologies:hasOutput ontologies:MeasPatPlaceholder ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:MeasPatientShortcut ;
  ontologies:hasRequiredInput ontologies:HardcodedPatientSourceden ;
  ontologies:hasRequiredInput ontologies:PatKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:PatKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:PatientExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
.
ontologies:MeasPatientShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.
### measurement parthood
ontologies:post_icbo_synthea_omop_cnp_measurement_parthood
  a ontologies:TURBO_0010354 ;
  # ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_participation ;
  ontologies:hasOutput ontologies:MeasEncPlaceholder ;
  ontologies:hasRequiredInput ontologies:EncKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:EncKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:MeasEncShortcut ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:EncTypingRecipe ;
  ontologies:hasRequiredInput ontologies:HardcodedEncSourceden ;
  ontologies:hasRequiredInput ontologies:EncExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesEnc ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
.
ontologies:MeasEncShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.

###

# ontologies:regdenFromShorts a ontologies:ObjectConnectionToClassRecipe ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  # ontologies:required true ;
  # ontologies:subject ontologies:TURBO_0010158 ;
  # ontologies:predicate ontologies:assertedRegden ;
  # ontologies:object ontologies:allowedEncRegdenList ;
# .

###