# baseURI: https://unnamed/acorn/inputs
# prefix: inputs

@prefix : <https://unnamed/acorn/post_icbo_synthea_omop_cnp_inputs/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ontologies: <http://transformunify.org/ontologies/> .
@prefix turbo: <http://transformunify.org/ontologies/> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

<http://api.stardog.com/visit_occurrence> a owl:Class .
<http://api.stardog.com/person> a owl:Class .
<http://api.stardog.com/procedure_occurrence> a owl:Class .
<http://api.stardog.com/measurement> a owl:Class .

ontologies:syntheaomop_post_icbo a owl:Class .
ontologies:cdm_synthea10 a owl:Class .
ontologies:procedure_occurrence a owl:Class .
ontologies:procedure_source_value a owl:Class .

ontologies:post_icbo_synthea_omop_cnp_patients
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:DobPartOfColumn ;
  ontologies:hasOutput ontologies:GidAboutPatient ; 
  ontologies:hasOutput ontologies:GidHasRepresentation ;
  ontologies:hasOutput ontologies:GidPartOfColumn ;
  ontologies:hasOutput ontologies:KeyDenotesDob ;
  ontologies:hasOutput ontologies:KeyDenotesGid ;
  ontologies:hasOutput ontologies:KeyDenotesPatKeySymb ;
  ontologies:hasOutput ontologies:KeyDenotesPatient ;
  ontologies:hasOutput ontologies:KeyDenotesRid ;
  ontologies:hasOutput ontologies:KeyPartOfColumn ;
  ontologies:hasOutput ontologies:PatKeySymbPartOfColumn ;
  ontologies:hasOutput ontologies:RidAboutPatient ;
  ontologies:hasOutput ontologies:RidHasRepresentation ;
  ontologies:hasOutput ontologies:RidPartOfColumn ;
  ontologies:hasOutput ontologies:RidTypingRecipe ;
  ontologies:hasOutput ontologies:cridDenotesPatient;
  ontologies:hasOutput ontologies:dobAboutSns ;
  ontologies:hasOutput ontologies:dobHasMeasVal ;
  ontologies:hasOutput ontologies:gidTypingRecipe ;
  ontologies:hasOutput ontologies:hardcodedPatientRegden ;
  ontologies:hasOutput ontologies:hardcodedPatientSourceden ; 
  ontologies:hasOutput ontologies:patCridsymbHasRepresentation ;
  ontologies:hasOutput ontologies:patKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:patKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:patientBornOnSns ;
  ontologies:hasOutput ontologies:patientExpansionSpecification ;
  ontologies:hasOutput ontologies:symbolPartOfCridForPatient ;
  ontologies:hasRequiredInput ontologies:GidOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:GidScoGid ;
  ontologies:hasRequiredInput ontologies:PatientCridsymShortcut ;
  ontologies:hasRequiredInput ontologies:PatientKeySymShortcut ;
  ontologies:hasRequiredInput ontologies:PatientRidShortcut ;
  ontologies:hasRequiredInput ontologies:RidOmopConceptIds ;
  ontologies:hasRequiredInput ontologies:patientDobShortcut ;
  ontologies:hasRequiredInput ontologies:patientGidShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_encounters ;
.

 ontologies:GidScoGid a ontologies:ObjectConnectionToTermRecipe ;
   ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
   turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
   ontologies:subject ontologies:GidClassList ;
   ontologies:predicate rdfs:subClassOf ;
   # ontologies:predicateSuffix ontologies:star ;
   ontologies:object obo:OMRSE_00000133 ;
 .

ontologies:PatientRidShortcut
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:required true ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#race_concept_id> ;
  ontologies:object ontologies:race_concept_id_IntegerLiteralValue ;
  # ontologies:objectRequiredToCreate ontologies:GidClassList ;
.

ontologies:RidOmopConceptIds 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:RidClassList ;
  ontologies:predicate ontologies:TURBO_0010147 ;
  ontologies:object ontologies:race_concept_id_IntegerLiteralValue ;
.

ontologies:GidOmopConceptIds 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:GidClassList ;
  ontologies:predicate ontologies:TURBO_0010147 ;
  ontologies:object ontologies:gender_concept_id_IntegerLiteralValue ;
.

ontologies:PatientCridsymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ## ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#person_source_value> ;
  ontologies:object ontologies:person_source_value_StringLiteralValue ;
.

ontologies:PatientKeySymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:required true ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.

ontologies:patientDobShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#birth_datetime> ;
  ontologies:object ontologies:birth_datetime_DateLiteralValue ;
.

ontologies:patientGidShortcut
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:required true ;
  ontologies:subject <http://api.stardog.com/person> ;
  ontologies:predicate <http://api.stardog.com/person#gender_concept_id> ;
  ontologies:object ontologies:gender_concept_id_IntegerLiteralValue ;
#  ontologies:objectRequiredToCreate ontologies:GidClassList ;
.

# ontologies:GidClassList ontologies:usesCustomVariableManipulationRule ontologies:gidClassFromValueRule .

# ontologies:gidClassFromValueRule
  # a ontologies:TurboGraphVariableManipulationLogic ;
  # ontologies:usesSparql """
  # BIND(IF (${dependent} = 8532, obo:OMRSE_00000138, ?unbound) AS ?femGidClass) 
  # BIND(IF (${dependent} = 8507, obo:OMRSE_00000141, ?unbound) AS ?maleGidClass) 
  # bind(coalesce(?femGidClass, ?maleGidClass, obo:OMRSE_00000133) as ${replacement})
# """  ;
# .

### encounters

# _ is wildcard 
ontologies:post_icbo_synthea_omop_cnp_encounters
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:cridDenotesHce ;
  ontologies:hasOutput ontologies:encCridsymbHasRepresentation ;
  ontologies:hasOutput ontologies:encounterTypingRecipe ;
  ontologies:hasOutput ontologies:endingTmdAboutProcbound ;
  ontologies:hasOutput ontologies:endingTmdHasMeasVal ;
  
  ontologies:hasOutput ontologies:endingTmdHasLiteralMeasVal ;
  ontologies:hasOutput ontologies:EncHasMeasVal ;
    
  ontologies:hasOutput ontologies:hardcodedRegden ;
  ontologies:hasOutput ontologies:hceExpansionSpecification ;
  ontologies:hasOutput ontologies:procboundEndsEnc ;
  ontologies:hasOutput ontologies:procboundStartsEnc ;
  ontologies:hasOutput ontologies:startingTmdAboutProcbound ;
  ontologies:hasOutput ontologies:startingTmdHasMeasVal ;
  ontologies:hasOutput ontologies:symbolPartOfCridForHce ;
  ontologies:hasOutput ontologies:KeyDenotesHce ;
  ontologies:hasOutput ontologies:HceKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:HceKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:hardcodedHceSourceden ;
  ontologies:hasOutput ontologies:VisitIdPartOfColumn ;
  ontologies:hasOutput ontologies:EndDatePartOfColumn ;
  ontologies:hasOutput ontologies:KeyDenotesEndDate ;
  ontologies:hasOutput ontologies:StartDatePartOfColumn ;
  ontologies:hasOutput ontologies:KeyDenotesStartDate ;
  ontologies:hasOutput ontologies:KeyDenotesVisitCridSym ;
  ontologies:hasOutput ontologies:VisitCridSymPartOfColumn ;

  ontologies:hasRequiredInput ontologies:HceEnddateShortcutRedo ;
  
  ontologies:hasRequiredInput ontologies:HceCridsymShortcut ;
  ontologies:hasRequiredInput ontologies:HceEnddateShortcut ;
  ontologies:hasRequiredInput ontologies:HceStartdateShortcut ;
  ontologies:hasRequiredInput ontologies:HceTypeShortcut ;
  ontologies:hasRequiredInput ontologies:HceKeysymShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_enc_participation ;
.

ontologies:HceCridsymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_source_value> ;
  ontologies:object ontologies:visit_source_value_StringLiteralValue ;
.

ontologies:HceKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.

ontologies:HceEnddateShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_end_date> ;
  ontologies:object ontologies:visit_end_date_DateLiteralValue ;
.


# ontologies:HceEnddateShortcutRedo 
  # a ontologies:DatatypeConnectionRecipe ;
  # ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  # ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_end_datetime> ;
  # ontologies:object ontologies:endDatePlaceholder ;
# .


ontologies:HceStartdateShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_start_date> ;
  ontologies:object ontologies:visit_start_date_DateLiteralValue ;
.

ontologies:HceTypeShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#visit_concept_id> ;
  ontologies:object ontologies:visit_type_IntegerLiteralValue ;
  ontologies:objectRequiredToCreate ontologies:EncounterClassList ;
.

ontologies:EncounterClassList 
  ontologies:usesCustomVariableManipulationRule ontologies:encClassFromValueRule .
  
ontologies:encClassFromValueRule
  a ontologies:TurboGraphVariableManipulationLogic ;
  ontologies:usesSparql """
  BIND(IF (${dependent} = 9203, obo:OGMS_0000101, ?unbound) AS ?edEncClass) 
  BIND(IF (${dependent} = 9201, obo:OGMS_0000100, ?unbound) AS  ?inpatientEncClass) 
  BIND(IF (${dependent} = 9202, obo:OGMS_0000099, ?unbound) AS ?outpatientEncClass) 
  bind(coalesce(?edEncClass, ?inpatientEncClass, ?outpatientEncClass, obo:OGMS_0000097) as ${replacement})
  #BIND(IF (bound(?edEncClass),?edEncClass, ?unbound) as ${replacement}) 
  #BIND(IF (bound(?inpatientEncClass),?inpatientEncClass, ${replacement}) as ${replacement}) 
  #BIND(IF (bound(?outpatientEncClass),?outpatientEncClass, ${replacement}) as ${replacement}) 
  #BIND(IF (bound(${replacement}),${replacement},obo:OGMS_0000097) as ${replacement})
"""  ;
.

### encounter participation

ontologies:post_icbo_synthea_omop_cnp_enc_participation
  a ontologies:TURBO_0010354 ;
  ontologies:hasRequiredInput ontologies:EncounterPatientID ;
  ontologies:hasRequiredInput ontologies:hceExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:encounterTypingRecipe ;
  ontologies:hasRequiredInput ontologies:patientExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:hasRequiredInput ontologies:patKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:patKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:hardcodedPatientSourceden ;
  ontologies:hasOutput ontologies:encounterRealizesRole ;
  ontologies:hasOutput ontologies:patientHasRole;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedures ;
.

ontologies:EncounterPatientID 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph ontologies:omopShortcuts ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/visit_occurrence> ;
  ontologies:predicate <http://api.stardog.com/visit_occurrence#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.

### procedures

ontologies:post_icbo_synthea_omop_cnp_procedures
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:procedureTypingRecipe ;
  ontologies:hasOutput ontologies:procExpansionSpecification ;
  ontologies:hasOutput ontologies:procProvDatabaseAnnotation ;
  ontologies:hasOutput ontologies:procProvSchemaAnnotation ;
  ontologies:hasOutput ontologies:procProvTableAnnotation ;
  ontologies:hasOutput ontologies:procProvColumnAnnotation ;
  ontologies:hasOutput ontologies:procProvKeyColAnnotation ;
  ontologies:hasOutput ontologies:procProvKeyValAnnotation ;
  ontologies:hasOutput ontologies:procProvValueAnnotation ;
  ontologies:hasOutput ontologies:provenanceAboutProcedure ;
  ontologies:hasOutput ontologies:provMentionsSnomed ;
  ontologies:hasOutput ontologies:KeyDenotesProc ;
  ontologies:hasOutput ontologies:ProcKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:ProcKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:hardcodedProcSourceden ;
  ontologies:hasRequiredInput ontologies:procedureKeysymShortcut ;
  ontologies:hasRequiredInput ontologies:procedureSourceValueShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_participation ;
.

ontologies:procedureClassList ontologies:usesCustomVariableManipulationRule ontologies:procClassFromValueRule .

ontologies:procClassFromValueRule
  a ontologies:TurboGraphVariableManipulationLogic ;
  ontologies:usesSparql """
  BIND(IF (${dependent} = "76601001", obo:OBI_0000934, ?unbound) AS ?imInjClass) 
  BIND(IF (${dependent} = "5880005", obo:OGMS_0000057, ?unbound) AS ?physExamClass) 
  bind(coalesce(?imInjClass, ?physExamClass, obo:OGMS_0000096) as ${replacement})
"""  ;
.

ontologies:procedureKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#procedure_occurrence_id> ;
  ontologies:object ontologies:procedure_occurrence_id_IntegerLiteralValue ;
.

ontologies:procedureSourceValueShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#procedure_source_value> ;
  ontologies:object ontologies:procedure_source_value_StringLiteralValue ;
  ontologies:objectRequiredToCreate ontologies:procMentionedClassList ;
  ontologies:objectRequiredToCreate ontologies:procedureClassList ;
.

ontologies:procMentionedClassFromValueRule
  a ontologies:TurboGraphVariableManipulationLogic ;
  ontologies:usesSparql """
  BIND(uri(concat('http://purl.bioontology.org/ontology/SNOMEDCT/', ${dependent} )) as  ${replacement} )
"""  ;
.

ontologies:procMentionedClassList 
  ontologies:usesCustomVariableManipulationRule ontologies:procMentionedClassFromValueRule .

### procedure participation

ontologies:post_icbo_synthea_omop_cnp_procedure_participation
  a ontologies:TURBO_0010354 ;
  ontologies:hasRequiredInput ontologies:procedurePatientShortcut ;
  ontologies:hasRequiredInput ontologies:procExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:procedureTypingRecipe ;
  ontologies:hasRequiredInput ontologies:patientExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:patientHasRole ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:hasRequiredInput ontologies:patKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:patKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:hardcodedPatientSourceden ;
  ontologies:hasOutput ontologies:procRealizesPatientRole ;
  ontologies:hasOutput ontologies:patientHasRole ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_parthood ;
.

ontologies:procedurePatientShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/many-1> ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
.

### procedure parthood

ontologies:post_icbo_synthea_omop_cnp_procedure_parthood
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:procPartOfEnc ;
  ontologies:hasRequiredInput ontologies:HceKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:HceKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:encounterTypingRecipe ;
  ontologies:hasRequiredInput ontologies:hardcodedHceSourceden ;
  ontologies:hasRequiredInput ontologies:hceExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesHce ;
  ontologies:hasRequiredInput ontologies:procExpansionInput ;
  ontologies:hasRequiredInput ontologies:procExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:procedureEncounterShortcut ;
  ontologies:hasRequiredInput ontologies:procedureTypingRecipe ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement ;
.

ontologies:procedureEncounterShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/procedure_occurrence> ;
  ontologies:predicate <http://api.stardog.com/procedure_occurrence#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.

### measurement

ontologies:post_icbo_synthea_omop_cnp_measurement
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:MeasExpansionSpecification ;
  ontologies:hasOutput ontologies:MeasHasValspec ;
  ontologies:hasOutput ontologies:MeasKeySymbHasRepresentation ;
  ontologies:hasOutput ontologies:MeasKeySymbPartOfKey ;
  ontologies:hasOutput ontologies:MeasTmdAboutProcbound  ;
  ontologies:hasOutput ontologies:MeasTmdHasMeasVal ;
  ontologies:hasOutput ontologies:MeasValspecPartOfDataset ;
  ontologies:hasOutput ontologies:ValspecHasSpecVal ;
  ontologies:hasOutput ontologies:hardcodedMeasSourceden ;
  ontologies:hasOutput ontologies:KeyDenotesMeas ;
  ontologies:hasOutput ontologies:procboundStartsMeas ;
  ontologies:hasRequiredInput ontologies:MeasDatetimeShortcut ;
  ontologies:hasRequiredInput ontologies:MeasNumValShortcut ;
  ontologies:hasRequiredInput ontologies:MeasKeysymShortcut ;
  ontologies:hasRequiredInput ontologies:MULScoMUL ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_MUL ;
.

ontologies:post_icbo_synthea_omop_cnp_MUL
  a ontologies:TURBO_0010354 ;
  ontologies:hasOutput ontologies:MULMoreUnitsOutput ;
  ontologies:hasOutput ontologies:MULTypingRecipe ;
  ontologies:hasOutput ontologies:MULpartOfColumn ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasOutput ontologies:MeasHasMUL ;
  ontologies:hasRequiredInput ontologies:MULClassHasOmopConceptId ;
  ontologies:hasRequiredInput ontologies:MeasMoreUnitsShortcut ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement_aboutness ;
.

ontologies:MeasMoreUnitsShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#more_units> ;
  ontologies:object ontologies:measurement_more_units_IntegerLiteralValue ;
.

ontologies:MULClassHasOmopConceptId 
  a ontologies:DatatypeConnectionRecipe ;
  turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject ontologies:MULClassList ;
  ontologies:predicate ontologies:TURBO_0010147  ;
  ontologies:object ontologies:measurement_more_units_IntegerLiteralValue ;
.

# ontologies:MULScoMUL
  # a ontologies:DatatypeConnectionRecipe ;
  # turbo:referencedInGraph <https://raw.githubusercontent.com/PennTURBO/Turbo-Ontology/master/ontologies/turbo_merged.owl> ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  # ontologies:subject ontologies:MULClassList ;
  # ontologies:predicate rdfs:subClassOf*  ;
  # ontologies:object obo:IAO_0000003 ;
# .

ontologies:MeasNumValShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#value_as_number> ;
  ontologies:object ontologies:value_as_number_IntegerLiteralValue ;
.

ontologies:MeasKeysymShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#measurement_id> ;
  ontologies:object ontologies:measurement_id_IntegerLiteralValue ;
.

ontologies:MeasDatetimeShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#measurement_datetime> ;
  ontologies:object ontologies:measurement_datetime_DateLiteralValue ;
.

### measurement aboutness

ontologies:post_icbo_synthea_omop_cnp_measurement_aboutness
  a ontologies:TURBO_0010354 ;
  ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_measurement_parthood ;
  ontologies:hasOutput ontologies:MeasPatPlaceholder ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:MeasPatientShortcut ;
  ontologies:hasRequiredInput ontologies:hardcodedPatientSourceden ;
  ontologies:hasRequiredInput ontologies:patKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:patKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:patientExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesPatient ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
.

ontologies:MeasPatientShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#person_id> ;
  ontologies:object ontologies:person_id_IntegerLiteralValue ;
  
.

### measurement parthood

ontologies:post_icbo_synthea_omop_cnp_measurement_parthood
  a ontologies:TURBO_0010354 ;
  # ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_procedure_participation ;
  ontologies:hasOutput ontologies:MeasEncPlaceholder ;
  ontologies:hasRequiredInput ontologies:HceKeySymbHasRepresentation ;
  ontologies:hasRequiredInput ontologies:HceKeySymbPartOfKey ;
  ontologies:hasRequiredInput ontologies:MeasEncounterShortcut ;
  ontologies:hasRequiredInput ontologies:MeasExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:encounterTypingRecipe ;
  ontologies:hasRequiredInput ontologies:hardcodedHceSourceden ;
  ontologies:hasRequiredInput ontologies:hceExpansionSpecification ;
  ontologies:hasRequiredInput ontologies:KeyDenotesHce ;
  ontologies:inputNamedGraph ontologies:omopShortcuts ;
  ontologies:outputNamedGraph ontologies:omopExpanded ;
.

ontologies:MeasEncounterShortcut 
  a ontologies:DatatypeConnectionRecipe ;
  ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  ontologies:subject <http://api.stardog.com/measurement> ;
  ontologies:predicate <http://api.stardog.com/measurement#visit_occurrence_id> ;
  ontologies:object ontologies:visit_occurrence_id_IntegerLiteralValue ;
.

###

# ontologies:post_icbo_synthea_omop_cnp_precedence
  # a ontologies:TURBO_0010354 ;
  # ontologies:hasOutput ontologies:encounterRealizesRole ;
  # ontologies:hasOutput ontologies:patientHasRole;
  # ontologies:hasRequiredInput ontologies:EncounterExpansionInp ;
  # ontologies:hasRequiredInput ontologies:encounterTypingRecipe ;
  # ontologies:inputNamedGraph ontologies:omopShortcuts ;
  # ontologies:outputNamedGraph ontologies:omopExpanded ;
  # ontologies:precedes ontologies:post_icbo_synthea_omop_cnp_encounters ;
# .

# ontologies:regdenFromShorts a ontologies:ObjectConnectionToClassRecipe ;
  # ontologies:multiplicity <http://transformunify.org/ontologies/1-1> ;
  # ontologies:required true ;
  # ontologies:subject ontologies:TURBO_0010158 ;
  # ontologies:predicate ontologies:assertedRegden ;
  # ontologies:object ontologies:allowedEncounterRegdenList ;
# .

###

